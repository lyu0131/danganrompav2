<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Makoto Naegi - Character Introduction</title>
		<link rel="stylesheet" href="makoto_styles.css" />
		<script defer>
			document.addEventListener('DOMContentLoaded', () => {
				const modal = document.getElementById('imageModal');
				const modalImage = document.getElementById('modalImage');
				const closeBtn = document.querySelector('.modal-close');
				const enlargeableImages = document.querySelectorAll('[data-enlargeable]');

				enlargeableImages.forEach(img => {
					img.addEventListener('click', () => {
						modalImage.src = img.src;
						modal.classList.add('active');
						document.body.style.overflow = 'hidden';
					});
				});

				closeBtn.addEventListener('click', () => {
					modal.classList.remove('active');
					document.body.style.overflow = '';
				});

				modal.addEventListener('click', (e) => {
					if (e.target === modal) {
						modal.classList.remove('active');
						document.body.style.overflow = '';
					}
				});

				document.addEventListener('keydown', (e) => {
					if (e.key === 'Escape' && modal.classList.contains('active')) {
						modal.classList.remove('active');
						document.body.style.overflow = '';
					}
				});

				// Image Switcher
				const switcher = document.querySelectorAll('.switcher-btn');
				const switcherImage = document.getElementById('switcherImage');

				const images = {
					halfbody: '../images/halfbody/Makoto_hb.png',
					splash: '../images/splash_art/Makoto_Naegi_sa.png'
				};

				switcher.forEach(btn => {
					btn.addEventListener('click', () => {
						const imageType = btn.getAttribute('data-image');
						switcherImage.src = images[imageType];
						switcherImage.style.opacity = '0';
						setTimeout(() => {
							switcherImage.style.opacity = '1';
						}, 10);

						switcher.forEach(b => b.classList.remove('active'));
						btn.classList.add('active');
					});
				});

				// Truth Bullet Wheel Navigation
				const bullets = document.querySelectorAll('.wheel li');
				
				bullets.forEach(b => {
					b.addEventListener('click', () => {
						const href = b.getAttribute('data-href');
						if (href) {
							window.location.href = href;
						}
					});
				});
			});
		</script>
	</head>
	<body>
		<!-- ====== TRUTH BULLET WHEEL ====== -->
		<nav class="wheel" aria-label="Truth Bullet Navigation">
			<ul>
				<li class="b-about" data-href="../index.html#about" title="About">About</li>
				<li class="b-sns" data-href="../index.html#sns" title="SNS">SNS</li>
				<li class="b-gameplay" data-href="../index.html#gameplay" title="Gameplay">Gameplay</li>
				<li class="b-home" data-href="../index.html" title="Home">Home</li>
			</ul>
		</nav>

		<!-- ====== MINI MUSIC PLAYER ====== -->
		<div class="player">
			<label>♪ BGM</label>
			<div class="player-controls">
				<button id="prevBtn" type="button" aria-label="Previous">◀</button>
				<button id="playPauseBtn" type="button" aria-label="Play/Pause">Play</button>
				<button id="nextBtn" type="button" aria-label="Next">▶</button>
			</div>
			<div class="player-meta">
				<div id="trackTitle">Loading playlist…</div>
				<select id="trackSelect" aria-label="Choose track"></select>
			</div>
			<audio id="bgAudio" preload="metadata"></audio>
			<a href="../characters.html" class="back-btn">← Back to Characters</a>
		</div>

		<header>
			<h1 class="title">Makoto Naegi <span class="japanese">(苗木誠)</span></h1>
			<p class="ultimate">Ultimate Lucky Student</p>
			<p class="quote">"I'm going to keep moving forward, with hope in my heart."</p>
		</header>

		<div class="switcher-buttons-wrapper">
			<div class="switcher-buttons">
				<button class="switcher-btn active" data-image="splash">Splash Art</button>
				<button class="switcher-btn" data-image="halfbody">Halfbody</button>
			</div>
		</div>

		<div class="profile-container">
			<div class="profile-visual">
				<div class="image-switcher">
					<img id="switcherImage" src="../images/splash_art/Makoto_Naegi_sa.png" alt="Makoto Naegi" class="switcher-image" data-enlargeable />
				</div>
			</div>

			<div class="profile-info">
				<div class="info-grid">
					<div class="info-item">
						<label>Gender</label>
						<p>Male</p>
					</div>
					<div class="info-item">
						<label>Height</label>
						<p>160 cm</p>
					</div>
					<div class="info-item">
						<label>Weight</label>
						<p>52 kg</p>
					</div>
					<div class="info-item">
						<label>Birth Date</label>
						<p>February 5</p>
					</div>
					<div class="info-item">
						<label>Blood Type</label>
						<p>A</p>
					</div>
				</div>

				<div class="preferences">
					<div class="pref-section">
						<h3>Likes</h3>
						<p>Curry, Trendy Things</p>
					</div>
					<div class="pref-section">
						<h3>Dislikes</h3>
						<p>Dried mackerel, Dried bean curd</p>
					</div>
				</div>
			</div>
		</div>

		<section class="character-concept">
			<div class="concept-content">
				<div class="concept-text">
					<h2>Character Concept</h2>
					<p>From the planning stages it was decided that Makoto should not have much individuality, which made him difficult for character designer Rui Komatsuzaki to design compared to the other characters whose designs were more unique and distinct. Because the game was initially planned to be played from a third-person perspective from behind Makoto, he was designed wearing a hoodie with a distinctive decal on the hood to give players something to look at. His ahoge was added to give his hair some character, and he was deliberately made shorter than the other male characters in order to give him a 'herbivore man'-type image. His color scheme, though plain, were chosen because they were colors that Komatsuzaki particularly liked.</p>
				</div>
				<img src="../images/concept/Makoto_Naegi_concept.png" alt="Makoto concept art" class="concept-image" data-enlargeable />
			</div>
		</section>

		<!-- ====== IMAGE MODAL ====== -->
		<div id="imageModal" class="image-modal">
			<span class="modal-close">&times;</span>
			<img id="modalImage" src="" alt="Enlarged image" class="modal-image" />
		</div>

		<script src="../js/music-character.js" defer></script>
	</body>
</html>
